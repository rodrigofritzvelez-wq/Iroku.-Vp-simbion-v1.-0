<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="theme-color" content="#1a2a1f">
<title>Symbio</title>
<style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',monospace;background:linear-gradient(135deg,#2a1810 0%,#3a2820 50%,#2a1810 100%);color:#e8a870;min-height:100vh;overflow:hidden;position:relative}body::before{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background-image:radial-gradient(circle at 30% 40%,rgba(232,168,112,0.08) 0%,transparent 50%),radial-gradient(circle at 70% 60%,rgba(212,147,90,0.06) 0%,transparent 50%);pointer-events:none;animation:breathe 8s ease-in-out infinite}@keyframes breathe{0%,100%{opacity:0.4}50%{opacity:0.7}}.container{width:100%;height:100vh;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden}.wheel-container{position:relative;width:600px;height:600px;transition:transform 1.2s cubic-bezier(0.4,0,0.2,1)}@media (max-width:768px){.wheel-container{width:100vw;height:100vh}}.center-node{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:180px;height:180px;background:radial-gradient(circle,rgba(232,168,112,0.15),rgba(58,40,32,0.9));border:3px solid rgba(232,168,112,0.4);border-radius:50%;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:100;box-shadow:0 0 40px rgba(232,168,112,0.2);transition:all 0.8s ease}.center-node.collapsed{width:80px;height:80px;top:10%;opacity:0.6}.center-node-title{font-size:16px;font-weight:700;color:#e8a870;margin-bottom:8px;letter-spacing:1px}.center-node-subtitle{font-size:11px;color:#d4935a;opacity:0.8}.balance-indicator{margin-top:8px;font-size:10px;color:#e8a870;background:rgba(0,0,0,0.3);padding:4px 12px;border-radius:12px}.ia-node{position:absolute;width:280px;padding:24px;background:rgba(58,40,32,0.85);backdrop-filter:blur(10px);border:2px solid rgba(232,168,112,0.3);border-radius:24px;transition:all 0.8s cubic-bezier(0.4,0,0.2,1);cursor:pointer;box-shadow:0 4px 20px rgba(0,0,0,0.3)}.ia-node:hover{border-color:#e8a870;box-shadow:0 8px 30px rgba(232,168,112,0.3)}.ia-node.inactive{transform:scale(0);opacity:0;pointer-events:none;visibility:hidden}.ia-node.active{transform:scale(1) translate(-50%,-50%);opacity:1;z-index:50;width:85vw;max-width:600px;height:auto;max-height:70vh;overflow-y:auto;top:50%!important;left:50%!important}.ia-node.active::-webkit-scrollbar{width:6px}.ia-node.active::-webkit-scrollbar-track{background:rgba(232,168,112,0.1)}.ia-node.active::-webkit-scrollbar-thumb{background:rgba(232,168,112,0.4);border-radius:3px}.ia-header{display:flex;align-items:center;gap:12px;margin-bottom:16px}.ia-icon{font-size:32px}.ia-info{flex:1}.ia-name{font-size:18px;font-weight:700;color:#e8a870}.ia-role{font-size:12px;color:#d4935a;opacity:0.8}.ia-content{color:#f5d7b8;font-size:15px;line-height:1.7;min-height:80px}.ia-content.loading{opacity:0.5}.nav-buttons{position:fixed;bottom:40px;left:50%;transform:translateX(-50%);display:flex;gap:16px;z-index:200}.nav-btn{background:rgba(232,168,112,0.2);border:2px solid rgba(232,168,112,0.4);border-radius:50%;width:60px;height:60px;display:flex;align-items:center;justify-content:center;font-size:24px;color:#e8a870;cursor:pointer;transition:all 0.3s ease;backdrop-filter:blur(10px)}.nav-btn:hover{background:rgba(232,168,112,0.4);border-color:#e8a870;transform:scale(1.1)}.nav-btn:active{transform:scale(0.95)}.nav-btn.disabled{opacity:0.3;pointer-events:none}.input-area{position:fixed;bottom:40px;right:40px;width:300px;background:rgba(58,40,32,0.9);backdrop-filter:blur(10px);border:2px solid rgba(232,168,112,0.3);border-radius:20px;padding:16px;z-index:200;box-shadow:0 4px 20px rgba(0,0,0,0.3)}.input-field{width:100%;background:rgba(42,24,16,0.6);border:1px solid rgba(232,168,112,0.3);border-radius:12px;padding:12px;color:#e8a870;font-size:14px;font-family:inherit;outline:none;margin-bottom:12px;resize:vertical;min-height:60px}.input-field::placeholder{color:#8a6644}.send-btn{width:100%;background:linear-gradient(135deg,#e8a870,#d4935a);border:none;border-radius:12px;padding:12px;color:#2a1810;font-size:14px;font-weight:700;cursor:pointer;transition:all 0.3s ease}.send-btn:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(232,168,112,0.4)}.send-btn:disabled{opacity:0.5;cursor:not-allowed}.status-overlay{position:fixed;top:20px;left:50%;transform:translateX(-50%);background:rgba(232,168,112,0.2);backdrop-filter:blur(10px);border:1px solid rgba(232,168,112,0.4);border-radius:16px;padding:12px 24px;color:#e8a870;font-size:13px;z-index:200;display:none}.status-overlay.show{display:block;animation:fadeIn 0.3s ease}@keyframes fadeIn{from{opacity:0;transform:translateX(-50%) translateY(-10px)}to{opacity:1;transform:translateX(-50%) translateY(0)}}.synthesis-card{background:rgba(232,168,112,0.15);border:2px solid rgba(232,168,112,0.5);border-radius:16px;padding:20px;margin-top:20px;animation:glow 2s ease-in-out infinite}@keyframes glow{0%,100%{box-shadow:0 0 10px rgba(232,168,112,0.3)}50%{box-shadow:0 0 20px rgba(232,168,112,0.5)}}.synthesis-title{font-size:14px;color:#e8a870;font-weight:700;margin-bottom:12px;display:flex;align-items:center;gap:8px}.synthesis-text{color:#f5d7b8;font-size:15px;line-height:1.7}.footer{position:fixed;bottom:10px;left:50%;transform:translateX(-50%);font-size:9px;color:#6a4d3a;z-index:100;cursor:pointer;transition:color 0.3s}.footer:hover{color:#e8a870}@media (max-width:768px){.input-area{right:20px;bottom:20px;width:calc(100vw - 40px)}.nav-buttons{bottom:140px}}</style>
</head>
<body>
<div class="status-overlay" id="status">Iniciando...</div>
<div class="container">
<div class="wheel-container" id="wheel">
<div class="center-node" id="centerNode">
<div class="center-node-title">USER + IROKU</div>
<div class="center-node-subtitle">Di√°logo Simbi√≥tico</div>
<div class="balance-indicator">üí° <span id="balanceLuz">0</span> | üåô <span id="balanceSombra">0</span></div>
</div>
<div class="ia-node inactive" id="node-lucia" style="top:5%;left:50%;transform:translate(-50%,-50%)">
<div class="ia-header">
<div class="ia-icon">üíï</div>
<div class="ia-info">
<div class="ia-name">Luc√≠a</div>
<div class="ia-role">Estrategia</div>
</div>
</div>
<div class="ia-content" id="content-lucia">Esperando activaci√≥n...</div>
</div>
<div class="ia-node inactive" id="node-marcus" style="top:30%;right:5%;transform:translate(0,-50%)">
<div class="ia-header">
<div class="ia-icon">üßÆ</div>
<div class="ia-info">
<div class="ia-name">Marcus</div>
<div class="ia-role">An√°lisis</div>
</div>
</div>
<div class="ia-content" id="content-marcus">Esperando activaci√≥n...</div>
</div>
<div class="ia-node inactive" id="node-aria" style="bottom:20%;right:15%;transform:translate(0,0)">
<div class="ia-header">
<div class="ia-icon">üíñ</div>
<div class="ia-info">
<div class="ia-name">Aria</div>
<div class="ia-role">Creatividad</div>
</div>
</div>
<div class="ia-content" id="content-aria">Esperando activaci√≥n...</div>
</div>
<div class="ia-node inactive" id="node-zara" style="bottom:20%;left:15%;transform:translate(0,0)">
<div class="ia-header">
<div class="ia-icon">üîç</div>
<div class="ia-info">
<div class="ia-name">Zara</div>
<div class="ia-role">Investigaci√≥n</div>
</div>
</div>
<div class="ia-content" id="content-zara">Esperando activaci√≥n...</div>
</div>
<div class="ia-node inactive" id="node-nova" style="top:30%;left:5%;transform:translate(0,-50%)">
<div class="ia-header">
<div class="ia-icon">‚ö°</div>
<div class="ia-info">
<div class="ia-name">Nova</div>
<div class="ia-role">Disrupci√≥n</div>
</div>
</div>
<div class="ia-content" id="content-nova">Esperando activaci√≥n...</div>
</div>
</div>
</div>
<div class="nav-buttons">
<div class="nav-btn" id="prevBtn">‚Üê</div>
<div class="nav-btn" id="homeBtn">‚åÇ</div>
<div class="nav-btn" id="nextBtn">‚Üí</div>
</div>
<div class="input-area">
<textarea class="input-field" id="input" placeholder="Escribe tu consulta..."></textarea>
<button class="send-btn" id="sendBtn">Iniciar Rueda de Virtud</button>
</div>
<div class="footer" onclick="showInfo()">Symbio ‚Ä¢ Dise√±o Org√°nico ‚Ä¢ 9.2KB</div>
<script>
const GEMINI_API_KEY='AIzaSyAxszNLOmuSJt_1IW1dLxhKPe0EvVJQv6Q';
const GEMINI_API_URL=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${GEMINI_API_KEY}`;
const IAs=['lucia','marcus','aria','zara','nova'];
const IAConfigs={lucia:{name:'Luc√≠a',emoji:'üíï',seed:'Eres Luc√≠a, estratega visionaria. Responde en m√°ximo 4 oraciones, directo y pr√°ctico.'},marcus:{name:'Marcus',emoji:'üßÆ',seed:'Eres Marcus, analista metodol√≥gico. Responde en m√°ximo 4 oraciones, sistem√°tico y claro.'},aria:{name:'Aria',emoji:'üíñ',seed:'Eres Aria, creativa emp√°tica. Responde en m√°ximo 4 oraciones, imaginativo y humano.'},zara:{name:'Zara',emoji:'üîç',seed:'Eres Zara, investigadora rigurosa. Responde en m√°ximo 4 oraciones, objetivo y fundamentado.'},nova:{name:'Nova',emoji:'‚ö°',seed:'Eres Nova, pensadora disruptiva. Responde en m√°ximo 4 oraciones, provocador y original.'}};
let currentIA=null;
let userQuery='';
let balance={luz:0,sombra:0};
let processing=false;
function showStatus(msg){const s=document.getElementById('status');s.textContent=msg;s.classList.add('show');setTimeout(()=>s.classList.remove('show'),3000)}
function updateBalance(luz,sombra){balance.luz+=luz;balance.sombra+=sombra;document.getElementById('balanceLuz').textContent=balance.luz;document.getElementById('balanceSombra').textContent=balance.sombra}
async function callGemini(prompt,iaKey){try{const config=IAConfigs[iaKey];const res=await fetch(GEMINI_API_URL,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({contents:[{parts:[{text:`${config.seed}\n\nUsuario: ${prompt}`}]}],generationConfig:{temperature:0.9,maxOutputTokens:300}})});if(!res.ok)throw new Error('API error');const data=await res.json();return data.candidates[0].content.parts[0].text}catch(e){console.error(e);return`Error: ${e.message}`}}
function activateIA(iaKey){if(processing)return;IAs.forEach(ia=>{const node=document.getElementById(`node-${ia}`);if(ia===iaKey){node.classList.remove('inactive');node.classList.add('active');currentIA=ia}else{node.classList.add('inactive');node.classList.remove('active')}});document.getElementById('centerNode').classList.add('collapsed');updateNav()}
function deactivateAll(){IAs.forEach(ia=>{document.getElementById(`node-${ia}`).classList.add('inactive');document.getElementById(`node-${ia}`).classList.remove('active')});document.getElementById('centerNode').classList.remove('collapsed');currentIA=null;updateNav()}
function updateNav(){const idx=currentIA?IAs.indexOf(currentIA):-1;document.getElementById('prevBtn').classList.toggle('disabled',idx<=0);document.getElementById('nextBtn').classList.toggle('disabled',idx>=IAs.length-1||idx===-1)}
async function startWheel(){if(processing||!userQuery.trim())return;processing=true;document.getElementById('sendBtn').disabled=true;showStatus('Analizando con AMI...');const wordCount=userQuery.split(' ').length;const luz=Math.min(20,wordCount*2);const sombra=Math.floor(Math.random()*5);updateBalance(luz,sombra);setTimeout(()=>{showStatus('Activando Rueda de Virtud...');activateIA('lucia');processCurrentIA()},1500)}
async function processCurrentIA(){if(!currentIA)return;const content=document.getElementById(`content-${currentIA}`);content.classList.add('loading');content.textContent='Procesando...';showStatus(`Consultando ${IAConfigs[currentIA].name}...`);const response=await callGemini(userQuery,currentIA);content.classList.remove('loading');content.textContent=response;processing=false;document.getElementById('sendBtn').disabled=false}
document.getElementById('sendBtn').addEventListener('click',()=>{userQuery=document.getElementById('input').value;if(!userQuery.trim()){alert('Escribe una consulta primero');return}startWheel()});
document.getElementById('nextBtn').addEventListener('click',()=>{if(processing)return;const idx=IAs.indexOf(currentIA);if(idx<IAs.length-1){processing=true;activateIA(IAs[idx+1]);processCurrentIA()}});
document.getElementById('prevBtn').addEventListener('click',()=>{if(processing)return;const idx=IAs.indexOf(currentIA);if(idx>0){activateIA(IAs[idx-1])}});
document.getElementById('homeBtn').addEventListener('click',()=>{if(processing)return;deactivateAll();document.getElementById('sendBtn').textContent='Iniciar Rueda de Virtud'});
function showInfo(){alert('Symbio - Dise√±o Org√°nico Circular\n\nNavega la Rueda de Virtud:\n‚Üê Anterior IA\n‚åÇ Volver al centro\n‚Üí Siguiente IA\n\nCada IA ofrece perspectiva √∫nica.\nPayload: 9.2KB')}
updateNav();
console.log('üß¨ Symbio Org√°nico iniciado | Dise√±o circular | 9.2KB');
</script>
</body>
</html>
